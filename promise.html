<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <script>
        let promise = new Promise((resolve,reject) =>{
            reject(11333)
            resolve(1111)

        })
        promise.then(response =>{
            console.log(response)
        }).catch(error =>{
            console.log(123)
        })

        //链式
        function promise1(status){
            return new Promise((resolve,reject) =>{
                if (status) {
                    console.log('NO.1 success')
                    resolve('No.1 success return')
                }
                if (!status) {
                    console.log('NO.1 failed')
                    reject('No.1 failed return')
                }
            })
        }
        function promise2(status){
            return new Promise((resolve,reject) =>{
                if (status) {
                    console.log('NO.2 success')
                    resolve('No.2 success return')
                }
                if (!status) {
                    console.log('NO.2 failed')
                    reject('No.2 failed return')
                }
            })
        }
        function promise3(status){
            return new Promise((resolve,reject) =>{
                if (status) {
                    console.log('NO.3 success')
                    resolve('No.1 success return')
                }
                if (!status) {
                    console.log('NO.3 failed')
                    reject('No.3 failed return')
                }
            })
        }

        promise1(true)
        .then(response =>{
            console.log(response)
            return promise2(false)
        })
        .then(response =>{
            console.log(response)
            return promise3(false)
        })
        .then(response =>{
            console.log(response)
        }).catch(error =>{
            console.log(error)
        })
        // all 全部成功执行then
        Promise.all([promise1(true),promise2(false),promise3(true)]).then(response =>{
            console.log('全部调用成功')
        }).catch(error =>{
            console.log('有些调用失败')
        })
        //race 当第一个不失败就执行then
        Promise.race([promise1(false),promise2(false),promise3(true)]).then(response =>{
            console.log('全部调用成功')
        }).catch(error =>{
            console.log('有些调用失败')
        })
    </script>
</body>
</html>